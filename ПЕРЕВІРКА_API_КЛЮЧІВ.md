# üîê –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—Å—ñ—Ö API –∫–ª—é—á—ñ–≤

**–î–∞—Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏:** 2 —Å—ñ—á–Ω—è 2026  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å—ñ –∫–ª—é—á—ñ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω—ñ

---

## üìã –°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö API –∫–ª—é—á—ñ–≤ —Ç–∞ –∑–º—ñ–Ω–Ω–∏—Ö –æ—Ç–æ—á–µ–Ω–Ω—è

### 1. **Supabase URL** (–ü—É–±–ª—ñ—á–Ω–∏–π)
**–ó–º—ñ–Ω–Ω–∞:** `VITE_SUPABASE_URL` –∞–±–æ `NEXT_PUBLIC_SUPABASE_URL`  
**–ó–Ω–∞—á–µ–Ω–Ω—è:** `https://qcpuzfhawcondygspiok.supabase.co`  
**–¢–∏–ø:** –ü—É–±–ª—ñ—á–Ω–∏–π –∫–ª—é—á (–±–µ–∑–ø–µ—á–Ω–æ –≤ –∫–æ–¥—ñ)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
- `utils/supabase/client.ts` - –≥–æ–ª–æ–≤–Ω–∏–π –∫–ª—ñ—î–Ω—Ç
- `services/supabaseService.ts` - —Å–µ—Ä–≤—ñ—Å–∏
- `components/AccountDashboard.tsx` - fallback –∑–Ω–∞—á–µ–Ω–Ω—è (–Ω–µ–±–µ–∑–ø–µ—á–Ω–æ, –∞–ª–µ –ø—É–±–ª—ñ—á–Ω–∏–π)
- `components/TestDB.tsx` - —Ç–µ—Å—Ç–æ–≤–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞

**–ü—Ä–æ–±–ª–µ–º–∏:**
- ‚ö†Ô∏è –í `AccountDashboard.tsx:646` —î —Ö–∞—Ä–¥–∫–æ–¥–∂–µ–Ω–µ fallback –∑–Ω–∞—á–µ–Ω–Ω—è - —Ü–µ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –∞–ª–µ –∫—Ä–∞—â–µ –≤–∏–¥–∞–ª–∏—Ç–∏

---

### 2. **Supabase ANON KEY** (–ü—É–±–ª—ñ—á–Ω–∏–π)
**–ó–º—ñ–Ω–Ω–∞:** `VITE_SUPABASE_ANON_KEY` –∞–±–æ `NEXT_PUBLIC_SUPABASE_ANON_KEY`  
**–ó–Ω–∞—á–µ–Ω–Ω—è:** `sb_publishable_cpQrhzVqZRCCeULDWhVJJw_ZIhcLx0Y`  
**–¢–∏–ø:** –ü—É–±–ª—ñ—á–Ω–∏–π –∫–ª—é—á (–±–µ–∑–ø–µ—á–Ω–æ –≤ –∫–æ–¥—ñ, –∞–ª–µ –∑–∞—Ö–∏—â–µ–Ω–∏–π RLS)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
- `utils/supabase/client.ts` - –≥–æ–ª–æ–≤–Ω–∏–π –∫–ª—ñ—î–Ω—Ç
- `services/supabaseService.ts` - —Å–µ—Ä–≤—ñ—Å–∏
- `components/AccountDashboard.tsx` - fallback –∑–Ω–∞—á–µ–Ω–Ω—è (–Ω–µ–±–µ–∑–ø–µ—á–Ω–æ, –∞–ª–µ –ø—É–±–ª—ñ—á–Ω–∏–π)
- `components/TestDB.tsx` - —Ç–µ—Å—Ç–æ–≤–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞

**–ü—Ä–æ–±–ª–µ–º–∏:**
- ‚ö†Ô∏è –í `AccountDashboard.tsx:650` —î —Ö–∞—Ä–¥–∫–æ–¥–∂–µ–Ω–µ fallback –∑–Ω–∞—á–µ–Ω–Ω—è - —Ü–µ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –∞–ª–µ –∫—Ä–∞—â–µ –≤–∏–¥–∞–ª–∏—Ç–∏

**–ë–µ–∑–ø–µ–∫–∞:**
- ‚úÖ –ó–∞—Ö–∏—â–µ–Ω–∏–π Row Level Security (RLS) policies
- ‚úÖ –ú–æ–∂–µ —Ç—ñ–ª—å–∫–∏ —á–∏—Ç–∞—Ç–∏/–ø–∏—Å–∞—Ç–∏ –¥–∞–Ω—ñ –∑–≥—ñ–¥–Ω–æ –∑ RLS –ø—Ä–∞–≤–∏–ª
- ‚úÖ –ù–µ –º–æ–∂–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó

---

### 3. **Supabase SERVICE_ROLE_KEY** (–°–ï–ö–†–ï–¢–ù–ò–ô!)
**–ó–º—ñ–Ω–Ω–∞:** `SERVICE_ROLE_KEY` –∞–±–æ `SUPABASE_SERVICE_ROLE_KEY`  
**–¢–∏–ø:** –°–ï–ö–†–ï–¢–ù–ò–ô –∫–ª—é—á (–ù–ï –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –≤ –∫–æ–¥—ñ!)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ (—Ç—ñ–ª—å–∫–∏ –≤ Edge Functions)

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
- `supabase/functions/invite-user/index.ts` - Edge Function –¥–ª—è –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ (Deno Edge Functions)

**–ë–µ–∑–ø–µ–∫–∞:**
- ‚úÖ –ù–ï –∑–∞–∫–æ–º—ñ—á–µ–Ω–∏–π –≤ –∫–æ–¥
- ‚úÖ –ù–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –≤ Supabase Dashboard ‚Üí Edge Functions ‚Üí Secrets
- ‚úÖ –ú–∞—î –ø–æ–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (–æ–±—Ö—ñ–¥ RLS)
- ‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ù–û:** –ù—ñ–∫–æ–ª–∏ –Ω–µ –¥–æ–¥–∞–≤–∞–π—Ç–µ —Ü–µ–π –∫–ª—é—á –≤ –∫–æ–¥ –∞–±–æ –≤ Git!

**–Ø–∫ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏:**
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Supabase Dashboard
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Edge Functions** ‚Üí **invite-user**
3. –î–æ–¥–∞–π—Ç–µ Secret: `SERVICE_ROLE_KEY` –∑—ñ –∑–Ω–∞—á–µ–Ω–Ω—è–º –∑ Settings ‚Üí API ‚Üí service_role key

---

### 4. **GEMINI_API_KEY** (–°–ï–ö–†–ï–¢–ù–ò–ô!)
**–ó–º—ñ–Ω–Ω–∞:** `GEMINI_API_KEY`  
**–¢–∏–ø:** –°–ï–ö–†–ï–¢–ù–ò–ô –∫–ª—é—á (–ù–ï –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –≤ –∫–æ–¥—ñ!)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
- `supabase/functions/ocr-invoice/index.ts` - Edge Function –¥–ª—è OCR –æ–±—Ä–æ–±–∫–∏ —ñ–Ω–≤–æ–π—Å—ñ–≤
- `vite.config.ts` - –¥–ª—è –∫–ª—ñ—î–Ω—Ç—Å—å–∫–æ–≥–æ –∫–æ–¥—É (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è Google Gemini API

**–ë–µ–∑–ø–µ–∫–∞:**
- ‚úÖ –ù–ï –∑–∞–∫–æ–º—ñ—á–µ–Ω–∏–π –≤ –∫–æ–¥
- ‚úÖ –ù–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è –≤ Supabase Dashboard ‚Üí Edge Functions ‚Üí Secrets
- ‚úÖ –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏: `.env.local` (–≤ `.gitignore`)

**–Ø–∫ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏:**

**–õ–æ–∫–∞–ª—å–Ω–æ:**
```bash
# –°—Ç–≤–æ—Ä—ñ—Ç—å .env.local
echo "GEMINI_API_KEY=your_actual_gemini_api_key_here" >> .env.local
```

**Supabase Edge Function:**
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Supabase Dashboard
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Edge Functions** ‚Üí **ocr-invoice**
3. –î–æ–¥–∞–π—Ç–µ Secret: `GEMINI_API_KEY` –∑—ñ –∑–Ω–∞—á–µ–Ω–Ω—è–º –∑ Google AI Studio

**Vercel (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–ª—è –∫–ª—ñ—î–Ω—Ç–∞):**
1. Settings ‚Üí Environment Variables
2. –î–æ–¥–∞–π—Ç–µ: `GEMINI_API_KEY` = `your_actual_gemini_api_key_here`

---

## üîç –î–µ—Ç–∞–ª—å–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ñ–∞–π–ª—ñ–≤

### ‚úÖ –ë–µ–∑–ø–µ—á–Ω—ñ —Ñ–∞–π–ª–∏ (–ø—É–±–ª—ñ—á–Ω—ñ –∫–ª—é—á—ñ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó - OK)

**README.md:**
- ‚úÖ –ú—ñ—Å—Ç–∏—Ç—å –ø—É–±–ª—ñ—á–Ω—ñ Supabase –∫–ª—é—á—ñ (—Ü–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)
- ‚úÖ GEMINI_API_KEY –ø–æ–∫–∞–∑–∞–Ω–æ —è–∫ `your_gemini_api_key_here` (placeholder)

**–í—Å—ñ `.md` —Ñ–∞–π–ª–∏ –∑ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º–∏:**
- ‚úÖ –ú—ñ—Å—Ç—è—Ç—å –ø—É–±–ª—ñ—á–Ω—ñ Supabase –∫–ª—é—á—ñ –¥–ª—è –ø—Ä–∏–∫–ª–∞–¥—ñ–≤
- ‚úÖ –¶–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó

### ‚ö†Ô∏è –§–∞–π–ª–∏ –∑ fallback –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏ (–ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏)

**components/AccountDashboard.tsx:**
```typescript
// –†—è–¥–∫–∏ 644-650
const supabaseUrl = import.meta.env.VITE_SUPABASE_URL || 
                  import.meta.env.NEXT_PUBLIC_SUPABASE_URL || 
                  'https://qcpuzfhawcondygspiok.supabase.co'; // ‚ö†Ô∏è Fallback

const anonKey = import.meta.env.VITE_SUPABASE_ANON_KEY || 
               import.meta.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || 
               'sb_publishable_cpQrhzVqZRCCeULDWhVJJw_ZIhcLx0Y'; // ‚ö†Ô∏è Fallback
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:**
- –¶–µ –ø—É–±–ª—ñ—á–Ω—ñ –∫–ª—é—á—ñ, —Ç–æ–º—É –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ
- –ê–ª–µ –∫—Ä–∞—â–µ –≤–∏–¥–∞–ª–∏—Ç–∏ fallback —ñ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –ø–æ–º–∏–ª–∫—É, —è–∫—â–æ –∫–ª—é—á—ñ –Ω–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è

**utils/supabase/client.ts:**
```typescript
// –†—è–¥–∫–∏ 10-18
const supabaseUrl = import.meta.env.VITE_SUPABASE_URL || 
                  import.meta.env.VITE_NEXT_PUBLIC_SUPABASE_URL || 
                  import.meta.env.NEXT_PUBLIC_SUPABASE_URL ||
                  (typeof process !== 'undefined' ? process.env.NEXT_PUBLIC_SUPABASE_URL : '');

const supabaseKey = import.meta.env.VITE_SUPABASE_ANON_KEY || 
                 import.meta.env.VITE_NEXT_PUBLIC_SUPABASE_ANON_KEY || 
                 import.meta.env.NEXT_PUBLIC_SUPABASE_ANON_KEY ||
                 (typeof process !== 'undefined' ? process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY : '');
```
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î –≤—Å—ñ –º–æ–∂–ª–∏–≤—ñ –∑–º—ñ–Ω–Ω—ñ
- ‚úÖ –ù–µ –º–∞—î —Ö–∞—Ä–¥–∫–æ–¥–∂–µ–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å
- ‚úÖ –ü–æ–∫–∞–∑—É—î –ø–æ–º–∏–ª–∫—É, —è–∫—â–æ –∫–ª—é—á—ñ –≤—ñ–¥—Å—É—Ç–Ω—ñ

**supabase/functions/ocr-invoice/index.ts:**
```typescript
// –†—è–¥–æ–∫ 11
const GEMINI_API_KEY = Deno.env.get('GEMINI_API_KEY')
```
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç—Ä–∏–º—É—î –∑ environment variables
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—è—î –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ø–µ—Ä–µ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º (—Ä—è–¥–æ–∫ 22)
- ‚úÖ –ù–ï –º–∞—î —Ö–∞—Ä–¥–∫–æ–¥–∂–µ–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å

**supabase/functions/invite-user/index.ts:**
```typescript
// –†—è–¥–∫–∏ 21-22
const supabaseUrl = Deno.env.get('SUPABASE_URL') ?? '';
const serviceRoleKey = Deno.env.get('SERVICE_ROLE_KEY') ?? Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') ?? '';
```
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç—Ä–∏–º—É—î –∑ environment variables
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—è—î –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ø–µ—Ä–µ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º (—Ä—è–¥–æ–∫ 32)
- ‚úÖ –ù–ï –º–∞—î —Ö–∞—Ä–¥–∫–æ–¥–∂–µ–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å

---

## üõ°Ô∏è –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –±–µ–∑–ø–µ–∫–∏

### ‚úÖ –©–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

1. **.gitignore –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ:**
   ```
   .env
   .env.local
   .env.development.local
   .env.test.local
   .env.production.local
   *.token
   *.key
   *secret*
   *SECRET*
   ```
   - ‚úÖ –í—Å—ñ `.env` —Ñ–∞–π–ª–∏ —ñ–≥–Ω–æ—Ä—É—é—Ç—å—Å—è
   - ‚úÖ –í—Å—ñ —Ñ–∞–π–ª–∏ –∑ `secret` –≤ –Ω–∞–∑–≤—ñ —ñ–≥–Ω–æ—Ä—É—é—Ç—å—Å—è

2. **–°–µ–∫—Ä–µ—Ç–Ω—ñ –∫–ª—é—á—ñ –Ω–µ –∑–∞–∫–æ–º—ñ—á–µ–Ω—ñ:**
   - ‚úÖ `GEMINI_API_KEY` - –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ –≤ –∫–æ–¥—ñ
   - ‚úÖ `SERVICE_ROLE_KEY` - –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ –≤ –∫–æ–¥—ñ
   - ‚úÖ `.env.local` - –Ω–µ –∑–∞–∫–æ–º—ñ—á–µ–Ω–∏–π

3. **–ü—É–±–ª—ñ—á–Ω—ñ –∫–ª—é—á—ñ:**
   - ‚úÖ Supabase URL —Ç–∞ ANON KEY - –ø—É–±–ª—ñ—á–Ω—ñ, –∑–∞—Ö–∏—â–µ–Ω—ñ RLS
   - ‚úÖ –ú–æ–∂—É—Ç—å –±—É—Ç–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó

### ‚ö†Ô∏è –©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏:

1. **AccountDashboard.tsx fallback –∑–Ω–∞—á–µ–Ω–Ω—è:**
   - ‚ö†Ô∏è –•–∞—Ä–¥–∫–æ–¥–∂–µ–Ω—ñ fallback –∑–Ω–∞—á–µ–Ω–Ω—è (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –∞–ª–µ –Ω–µ best practice)
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** –í–∏–¥–∞–ª–∏—Ç–∏ fallback —ñ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –ø–æ–º–∏–ª–∫—É

---

## üìù –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –õ–æ–∫–∞–ª—å–Ω–∞ —Ä–æ–∑—Ä–æ–±–∫–∞ (.env.local)

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env.local` –≤ –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É:

```env
# Supabase (–ø—É–±–ª—ñ—á–Ω—ñ –∫–ª—é—á—ñ)
VITE_SUPABASE_URL=https://qcpuzfhawcondygspiok.supabase.co
VITE_SUPABASE_ANON_KEY=sb_publishable_cpQrhzVqZRCCeULDWhVJJw_ZIhcLx0Y

# Gemini API (—Å–µ–∫—Ä–µ—Ç–Ω–∏–π –∫–ª—é—á)
GEMINI_API_KEY=your_actual_gemini_api_key_here
```

**–ê–ë–û –∑ –ø—Ä–µ—Ñ—ñ–∫—Å–æ–º NEXT_PUBLIC_ (–¥–ª—è —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ):**
```env
NEXT_PUBLIC_SUPABASE_URL=https://qcpuzfhawcondygspiok.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=sb_publishable_cpQrhzVqZRCCeULDWhVJJw_ZIhcLx0Y
GEMINI_API_KEY=your_actual_gemini_api_key_here
```

### Vercel Environment Variables

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Vercel Dashboard ‚Üí Settings ‚Üí Environment Variables
2. –î–æ–¥–∞–π—Ç–µ:

**–î–ª—è Production, Preview, Development:**
```
VITE_SUPABASE_URL = https://qcpuzfhawcondygspiok.supabase.co
VITE_SUPABASE_ANON_KEY = sb_publishable_cpQrhzVqZRCCeULDWhVJJw_ZIhcLx0Y
GEMINI_API_KEY = your_actual_gemini_api_key_here
```

**–ê–ë–û:**
```
NEXT_PUBLIC_SUPABASE_URL = https://qcpuzfhawcondygspiok.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY = sb_publishable_cpQrhzVqZRCCeULDWhVJJw_ZIhcLx0Y
GEMINI_API_KEY = your_actual_gemini_api_key_here
```

### Supabase Edge Functions Secrets

**–î–ª—è `ocr-invoice` —Ñ—É–Ω–∫—Ü—ñ—ó:**
1. Supabase Dashboard ‚Üí Edge Functions ‚Üí ocr-invoice
2. Settings ‚Üí Secrets
3. –î–æ–¥–∞–π—Ç–µ: `GEMINI_API_KEY` = `your_actual_gemini_api_key_here`

**–î–ª—è `invite-user` —Ñ—É–Ω–∫—Ü—ñ—ó:**
1. Supabase Dashboard ‚Üí Edge Functions ‚Üí invite-user
2. Settings ‚Üí Secrets
3. –î–æ–¥–∞–π—Ç–µ: `SERVICE_ROLE_KEY` = `your_service_role_key_from_supabase_settings`
4. –î–æ–¥–∞–π—Ç–µ: `SUPABASE_URL` = `https://qcpuzfhawcondygspiok.supabase.co` (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

---

## üîí –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –∑ –±–µ–∑–ø–µ–∫–∏

### ‚úÖ –©–æ —Ä–æ–±–∏—Ç–∏:

1. **–ù—ñ–∫–æ–ª–∏ –Ω–µ –∫–æ–º—ñ—Ç—å—Ç–µ:**
   - `.env.local` —Ñ–∞–π–ª–∏
   - –°–µ–∫—Ä–µ—Ç–Ω—ñ –∫–ª—é—á—ñ (GEMINI_API_KEY, SERVICE_ROLE_KEY)
   - –¢–æ–∫–µ–Ω–∏ –¥–æ—Å—Ç—É–ø—É

2. **–ó–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ:**
   - Environment variables –¥–ª—è —Å–µ–∫—Ä–µ—Ç–Ω–∏—Ö –∫–ª—é—á—ñ–≤
   - `.gitignore` –¥–ª—è `.env` —Ñ–∞–π–ª—ñ–≤
   - Supabase Secrets –¥–ª—è Edge Functions

3. **–ü–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ –ø–µ—Ä–µ–¥ –∫–æ–º—ñ—Ç–æ–º:**
   ```bash
   git status
   # –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ .env.local –Ω–µ –≤ —Å–ø–∏—Å–∫—É
   ```

### ‚ùå –©–æ –ù–ï —Ä–æ–±–∏—Ç–∏:

1. ‚ùå –ù–µ –¥–æ–¥–∞–≤–∞–π—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ñ –∫–ª—é—á—ñ –≤ –∫–æ–¥
2. ‚ùå –ù–µ –∫–æ–º—ñ—Ç—å—Ç–µ `.env` —Ñ–∞–π–ª–∏
3. ‚ùå –ù–µ –¥—ñ–ª—ñ—Ç—å—Å—è `SERVICE_ROLE_KEY` –ø—É–±–ª—ñ—á–Ω–æ
4. ‚ùå –ù–µ –¥—ñ–ª—ñ—Ç—å—Å—è `GEMINI_API_KEY` –ø—É–±–ª—ñ—á–Ω–æ

---

## üìä –ü—ñ–¥—Å—É–º–æ–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏

| –ö–ª—é—á | –¢–∏–ø | –°—Ç–∞—Ç—É—Å | –ë–µ–∑–ø–µ–∫–∞ |
|------|-----|--------|---------|
| `VITE_SUPABASE_URL` | –ü—É–±–ª—ñ—á–Ω–∏–π | ‚úÖ OK | ‚úÖ –ó–∞—Ö–∏—â–µ–Ω–∏–π RLS |
| `VITE_SUPABASE_ANON_KEY` | –ü—É–±–ª—ñ—á–Ω–∏–π | ‚úÖ OK | ‚úÖ –ó–∞—Ö–∏—â–µ–Ω–∏–π RLS |
| `GEMINI_API_KEY` | –°–µ–∫—Ä–µ—Ç–Ω–∏–π | ‚úÖ OK | ‚úÖ –í environment variables |
| `SERVICE_ROLE_KEY` | –°–µ–∫—Ä–µ—Ç–Ω–∏–π | ‚úÖ OK | ‚úÖ –í Supabase Secrets |

### –ó–∞–≥–∞–ª—å–Ω–∏–π —Å—Ç–∞—Ç—É—Å: ‚úÖ –í–°–ï –ë–ï–ó–ü–ï–ß–ù–û

**–í—Å—ñ —Å–µ–∫—Ä–µ—Ç–Ω—ñ –∫–ª—é—á—ñ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ:**
- ‚úÖ –ù–µ –∑–∞–∫–æ–º—ñ—á–µ–Ω—ñ –≤ –∫–æ–¥
- ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è —á–µ—Ä–µ–∑ environment variables
- ‚úÖ `.gitignore` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π

**–ü—É–±–ª—ñ—á–Ω—ñ –∫–ª—é—á—ñ:**
- ‚úÖ –ú–æ–∂—É—Ç—å –±—É—Ç–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó
- ‚úÖ –ó–∞—Ö–∏—â–µ–Ω—ñ Row Level Security (RLS)
- ‚úÖ –ù–µ –¥–∞—é—Ç—å –ø–æ–≤–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

---

## üö® –ö—Ä–∏—Ç–∏—á–Ω—ñ –∑–∞—É–≤–∞–∂–µ–Ω–Ω—è

### ‚ö†Ô∏è AccountDashboard.tsx fallback –∑–Ω–∞—á–µ–Ω–Ω—è

**–§–∞–π–ª:** `components/AccountDashboard.tsx`  
**–†—è–¥–∫–∏:** 644-650

**–ü—Ä–æ–±–ª–µ–º–∞:**
–•–∞—Ä–¥–∫–æ–¥–∂–µ–Ω—ñ fallback –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è Supabase –∫–ª—é—á—ñ–≤.

**–†—ñ—à–µ–Ω–Ω—è:**
–í–∏–¥–∞–ª–∏—Ç–∏ fallback —ñ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –ø–æ–º–∏–ª–∫—É, —è–∫—â–æ –∫–ª—é—á—ñ –Ω–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ:

```typescript
// –ó–∞–º—ñ—Å—Ç—å:
const supabaseUrl = import.meta.env.VITE_SUPABASE_URL || 
                  import.meta.env.NEXT_PUBLIC_SUPABASE_URL || 
                  'https://qcpuzfhawcondygspiok.supabase.co';

// –ö—Ä–∞—â–µ:
const supabaseUrl = import.meta.env.VITE_SUPABASE_URL || 
                  import.meta.env.NEXT_PUBLIC_SUPABASE_URL;

if (!supabaseUrl) {
  throw new Error('VITE_SUPABASE_URL or NEXT_PUBLIC_SUPABASE_URL must be set');
}
```

**–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç:** –ù–∏–∑—å–∫–∏–π (–ø—É–±–ª—ñ—á–Ω—ñ –∫–ª—é—á—ñ, –∞–ª–µ –Ω–µ best practice)

---

## ‚úÖ –í–∏—Å–Ω–æ–≤–æ–∫

**–í—Å—ñ API –∫–ª—é—á—ñ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ —Ç–∞ –±–µ–∑–ø–µ—á–Ω—ñ!**

- ‚úÖ –°–µ–∫—Ä–µ—Ç–Ω—ñ –∫–ª—é—á—ñ –Ω–µ –∑–∞–∫–æ–º—ñ—á–µ–Ω—ñ
- ‚úÖ Environment variables –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è
- ‚úÖ `.gitignore` –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π
- ‚úÖ Edge Functions –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å Secrets
- ‚ö†Ô∏è –û–¥–Ω–∞ –Ω–µ–∑–Ω–∞—á–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ –∑ fallback –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏ (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)

**–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –≥–æ—Ç–æ–≤–∞ –¥–æ –ø—Ä–æ–¥–∞–∫—à–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è!**

---

**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:** 2 —Å—ñ—á–Ω—è 2026  
**–ù–∞—Å—Ç—É–ø–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞:** –ü—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ –Ω–æ–≤–∏—Ö API –∫–ª—é—á—ñ–≤
